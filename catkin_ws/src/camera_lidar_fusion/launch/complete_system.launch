<launch>
  <!-- Complete Camera-LiDAR Fusion System -->
  
  <!-- ZED Camera Node -->
  <node name="zed_camera_node" pkg="camera_lidar_fusion" type="zed_camera_node.py" output="screen">
    <param name="frame_rate" value="30" />
    <param name="resolution_width" value="1280" />
    <param name="resolution_height" value="720" />
  </node>

  <!-- UniLiDAR Node -->
  <node name="unitree_lidar_ros_node" pkg="unitree_lidar_ros" type="unitree_lidar_ros_node" output="screen">
    <param name="port" value="/dev/ttyUSB0" />
    <param name="cloud_topic" value="unilidar/cloud" />
    <param name="cloud_frame" value="unilidar_lidar" />
    <param name="imu_topic" value="unilidar/imu" />
    <param name="imu_frame" value="unilidar_imu" />
  </node>

  <!-- LiDAR Processing Node -->
  <node name="lidar_only_node" pkg="camera_lidar_fusion" type="lidar_only_node.py" output="screen" />

  <!-- RViz for Visualization -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find camera_lidar_fusion)/config/camera_lidar_fusion.rviz" output="screen" />

  <!-- Image View for Camera -->
  <node name="left_image_view" pkg="image_view" type="image_view" output="screen">
    <remap from="image" to="/zed/left/image_raw" />
    <param name="window_name" value="ZED Left Camera" />
  </node>

  <node name="right_image_view" pkg="image_view" type="image_view" output="screen">
    <remap from="image" to="/zed/right/image_raw" />
    <param name="window_name" value="ZED Right Camera" />
  </node>

  <!-- Web Monitor -->
  <node name="web_monitor" pkg="camera_lidar_fusion" type="web_monitor.py" output="screen" />

</launch>
